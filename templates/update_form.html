<!DOCTYPE html>
<html>
<head>
    <title>Edit - {{ table_name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="stadium-bg">
<div class="form-card">
    <h2>Edit <b>{{ table_name }}</b> ({{ pk }} = {{ row[pk] if row and pk in row else '' }})</h2>

    <form method="POST">
        <input type="hidden" name="action" value="do_update">
        <input type="hidden" name="selected_id" value="{{ row[pk] if row and pk in row else '' }}">

        {% for col in columns %}
        <div style="margin-bottom:16px;">
            <label style="display:block; font-weight:500;">{{ col.Field }}</label>

            {% if col.EnumValues %}
                <!-- Dropdown for ENUM -->
                <select name="{{ col.Field }}" class="form-control">
                    {% for val in col.EnumValues %}
                        <option value="{{ val }}" {% if row[col.Field] == val %}selected{% endif %}>{{ val }}</option>
                    {% endfor %}
                </select>
            {% else %}
                <!-- Regular text input -->
                <input type="text" name="{{ col.Field }}" value="{{ row[col.Field] if row and col.Field in row else '' }}" class="form-control">
            {% endif %}
        </div>
        {% endfor %}

        <button type="submit">Save Changes</button>
    </form>

    <a href="/table/{{ table_name }}" class="btn" style="display:inline-block; margin-top:25px;">â¬… Back</a>
</div>
</body>
</html>
